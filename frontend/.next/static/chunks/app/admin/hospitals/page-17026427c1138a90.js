(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{9338:function(e,t,n){Promise.resolve().then(n.bind(n,1132))},1132:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7437),i=n(9039),a=n(357);function l(){var e,t;let{data:n,mutate:l}=(0,i.ZP)("admin-hospitals",()=>o("/hospitals?approved=false"));async function o(e,t){var n;let s=null===(n=document.cookie.split("token=")[1])||void 0===n?void 0:n.split(";")[0];return(await fetch("".concat(a.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api").concat(e),{...t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}})).json()}let c=async(e,t)=>{await o("/hospitals/".concat(e,"/approve"),{method:"PATCH",body:JSON.stringify({isApproved:t})}),l()};return(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-navy",children:"Pending Hospitals"}),(0,s.jsx)("ul",{className:"mt-3 space-y-3",children:null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.hospitals)||void 0===e?void 0:e.map(e=>(0,s.jsxs)("li",{className:"rounded border p-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-slate-600",children:e.location})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>c(e._id,!0),className:"btn-primary",children:"Approve"}),(0,s.jsx)("button",{onClick:()=>c(e._id,!1),className:"rounded border px-3 py-1 text-sm",children:"Reject"})]})]},e._id))})]})}}},function(e){e.O(0,[724,971,23,744],function(){return e(e.s=9338)}),_N_E=e.O()}]);