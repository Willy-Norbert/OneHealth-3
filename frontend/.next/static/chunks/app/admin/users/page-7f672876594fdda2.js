(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{9018:function(e,t,n){Promise.resolve().then(n.bind(n,7980))},7980:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(7437),a=n(9039),l=n(357);function o(){var e,t;let{data:n,mutate:o}=(0,a.ZP)("users-admin",()=>i("/users"));async function i(e){var t;return(await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===(t=document.cookie.split("token=")[1])||void 0===t?void 0:t.split(";")[0])},cache:"no-store"})).json()}let c=async(e,t)=>{var n;await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api","/users/").concat(e,"/role"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===(n=document.cookie.split("token=")[1])||void 0===n?void 0:n.split(";")[0])},body:JSON.stringify({role:t})}),o()};return(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-navy",children:"Users"}),(0,s.jsxs)("table",{className:"mt-4 w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left text-slate-600",children:[(0,s.jsx)("th",{className:"py-2",children:"Name"}),(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Role"}),(0,s.jsx)("th",{})]})}),(0,s.jsx)("tbody",{children:null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.users)||void 0===e?void 0:e.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"py-2",children:e.name}),(0,s.jsx)("td",{children:e.email}),(0,s.jsx)("td",{children:e.role}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{defaultValue:e.role,onChange:t=>c(e._id,t.target.value),className:"rounded border px-2 py-1 text-sm",children:[(0,s.jsx)("option",{value:"patient",children:"patient"}),(0,s.jsx)("option",{value:"doctor",children:"doctor"}),(0,s.jsx)("option",{value:"hospital",children:"hospital"}),(0,s.jsx)("option",{value:"admin",children:"admin"})]})})]},e._id))})]})]})}}},function(e){e.O(0,[724,971,23,744],function(){return e(e.s=9018)}),_N_E=e.O()}]);